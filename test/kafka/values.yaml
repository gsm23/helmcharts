# Default values for kafka.
# This is a YAML-formatted file.
# Declare variables to be passed into your templates.

######################################################
#Donot change the value of "Name" this is hardcoded  #
Name: kafka                                          #
######################################################
nameSpace: prees
replicaCount: 3
podManagementPolicy: OrderedReady
minAvailable: 3

image:
  repository: confluentinc/cp-kafka
  kafka-version: 4.1.2
  tag: stable
  pullPolicy: IfNotPresent
  imagePullSecrets:

#  updateStrategy: RollingUpdate
update:
  updateStrategy: OnDelete
  rollingParams:
    updatePeriodSeconds: 10
    intervalSeconds: 1
    timeoutSeconds: 600
    maxSurge: 1                     # how many pods we can add at a time
    maxUnavailable: 0               # maxUnavailable define how many pods can be unavailable during the rolling update
    pre:
       failurePolicy: Abort

Configuration:
  nodeport:
    
  "log.dirs": /opt/kafka/data/logs
  "offsets.topic.replication.factor": 3
  # "default.replication.factor": 3
  # "min.insync.replicas": 2
  # "auto.create.topics.enable": false
  "advertised.listeners": |-
   EXTERNAL://${HOST_IP}:$((31090 + ${KAFKA_BROKER_ID}))
  "listener.security.protocol.map": |-
   PLAINTEXT:PLAINTEXT,EXTERNAL:PLAINTEXT


persistencestorage:
  enabled: true
  size: 1Gi
  # storageClass: ""

## Kafka JVM Heap Configuration Option
HeapOptions:
  heapOptions: "-Xms1G -Xmx1G"
  jmxPort: 5555


nameOverride: ""
fullnameOverride: ""

service:
  type: ClusterIP
  port: 80

ingress:
  enabled: false
  annotations: {}
    # kubernetes.io/ingress.class: nginx
    # kubernetes.io/tls-acme: "true"
  path: /
  hosts:
    - chart-example.local
  tls: []
  #  - secretName: chart-example-tls
  #    hosts:
  #      - chart-example.local

resources: {}
  # We usually recommend not to specify default resources and to leave this as a conscious
  # choice for the user. This also increases chances charts run on environments with little
  # resources, such as Minikube. If you do want to specify resources, uncomment the following
  # lines, adjust them as necessary, and remove the curly braces after 'resources:'.
  # limits:
  #  cpu: 100m
  #  memory: 128Mi
  # requests:
  #  cpu: 100m
  #  memory: 128Mi

nodeSelector: {}

tolerations: []

affinity: {}
